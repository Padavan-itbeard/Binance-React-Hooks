(this["webpackJsonpbinance-react-hooks"]=this["webpackJsonpbinance-react-hooks"]||[]).push([[0],{26:function(e,t,a){e.exports=a(57)},37:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=a(2),u=(a(37),a(11)),i=a.n(u),s=a(22),E=a(25),m=a(23),p=a.n(m),d=function(e){return{type:"FETCH_LOAD",payload:e}},f=function(e){return{type:"FETCH_ERROR",payload:e}},b=(a(56),function(){var e=Object(o.c)((function(e){return e})),t=e.pair,a=e.interval,c=e.isLoad,l=e.isError,u=(e.Err,t.replace(/[/]/g,"")),m=t.split("/"),b=Object(o.b)(),v=Object(n.useState)([]),h=Object(E.a)(v,2),y=h[0],O=h[1],g=0;Object(n.useEffect)((function(){O([]),b(d(!0)),b(f({isError:!1,Err:""})),function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://cors-anywhere.herokuapp.com/","https://www.binance.com/api/v1/depth?symbol=").concat(u,"&limit=10"),e.prev=1,e.next=4,p.a.get(t);case 4:a=e.sent,O(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(f({isError:!0,Err:e.t0.message}));case 11:return e.prev=11,b(d(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){var e=new WebSocket("wss://stream.binance.com:9443/ws/".concat(u.toLowerCase(),"@depth10@").concat(a));return e.onopen=function(){b(f({isError:!1,Err:""}))},e.onmessage=function(e){var t=JSON.parse(e.data);O(t)},e.onerror=function(e){b(f({isError:!0,Err:e.message}))},function(){e.close()}}),[u,a]);var T=y.bids,j=y.asks,S=y.lastUpdateId,L=function(e){return e&&e.map((function(e){return r.a.createElement("tr",{key:g++},r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[0]))}))},k=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},e)),r.a.createElement("tr",null,r.a.createElement("th",null,"Amount (",m[0],")"),r.a.createElement("th",null,"Price (",m[1],")")))};return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("h2",null,"Loading..."),l?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{textAlign:"center",marginTop:"1rem"}},"lastUpdateId:",S),r.a.createElement("div",{className:"order-container"},r.a.createElement("table",null,k("Bids"),r.a.createElement("tbody",null,L(T))),r.a.createElement("table",null,k("Asks"),r.a.createElement("tbody",null,L(j))))))}),v=function(){var e=["ETC/USDT","XRP/USDT","BTS/USDT"],t=["1000ms","100ms"],a=Object(o.c)((function(e){return e})),n=a.pair,c=a.interval,l=Object(o.b)();return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("span",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u0443: "),r.a.createElement("select",{value:n,onChange:function(e){return l({type:"SELECT_PAIR",payload:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0},"..."),e&&e.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("span",{style:{marginLeft:"1rem"}},"\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f: "),r.a.createElement("select",{value:c,onChange:function(e){return l({type:"SET_INTERVAL",payload:e.target.value})}},t&&t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),n&&r.a.createElement(b,null))};var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"\u041e\u0440\u0434\u0435\u0440\u0431\u0443\u043a \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u043d\u043e\u0439 \u0431\u0438\u0440\u0436\u0438 Binance"),r.a.createElement(v,null))},y=a(6),O=a(24),g=a(3),T={pair:"",interval:"1000ms",isLoad:!1,isError:!1,Err:""};var j=Object(y.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PAIR":return Object(g.a)({},e,{pair:t.payload});case"SET_INTERVAL":return Object(g.a)({},e,{interval:t.payload});case"FETCH_LOAD":return Object(g.a)({},e,{isLoad:t.payload});case"FETCH_ERROR":return Object(g.a)({},e,{isError:t.payload.isError,Err:t.payload.Err});case"LOAD_SNAP_SHOT":return Object(g.a)({},e,{bids:Object(O.a)(t.payload.bids)});default:return e}}));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:j},r.a.createElement(h,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.9f1c7ba7.chunk.js.map